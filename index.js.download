hubspot.define("hubapi-prebuilt",["enviro"],function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};e[n].call(o.exports,o,o.exports,r);o.l=!0;return o.exports}r.m=e;r.c=t;r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})};r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=16)}([function(e,t,r){"use strict";e.exports=function(e){return"@@"+e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.Promise;window.hubspot.require(["q"],function(e){t.Promise=n=e.Promise});t.Promise=n},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.safeMode=t.retry=t.validateStatus=t.reportOptionsError=t.jsonResponse=t.responseInterceptor=t.onResponseError=t.onResponse=t.jsonBody=t.bodyType=t.standardApi=t.withApiAsOption=t.environmentUrl=t.httpsOnly=t.withQuery=t.query=t.base=t.header=t.method=t.defaultTo=t.withOptions=t.withUrl=t.resolveApi=t.validateOptions=t.services=void 0;var n=function(){function t(t,r){var n=[],o=!0,i=!1,u=void 0;try{for(var s,a=t[e.iterator]();!(o=(s=a.next()).done);o=!0){n.push(s.value);if(r&&n.length===r)break}}catch(e){i=!0;u=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw u}}return n}return function(r,n){if(Array.isArray(r))return r;if(e.iterator in Object(r))return t(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=h(r(7)),u=r(3),s=r(1),a=r(4),c=r(8),l=r(5),f=p(r(9)),d=p(r(21));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(){try{return window.localStorage}catch(e){console.error("[hub-http] Exception accessing local storage.",e);return}},y=(t.services=function(e){return o({location:window.location,cookies:window.document.cookie,localStorage:v(),document:window.document},e)},t.validateOptions=function(e,t){return function(r){if(!e||"function"!=typeof e)throw new Error("validator must be a function");if(!e(r))throw new Error(t);return r}},t.resolveApi=function(e){var t=i.default.getShort("hub-http"),r="local"===t?"local":"deployed",n=e[r]?e[r][t]:null;if(!n)throw new Error("No hostname defined for environment "+t+" and "+r);return n}),w=e("url"),g=t.withUrl=function(e){return function(t){var r=t[w]||(0,l.parseUrl)(t.url);r=e(r);t=(0,a.set)(w,r)(t);return t=(0,a.set)("url",(0,l.buildUrl)(r))(t)}},b=(t.withOptions=function(e,t){return o({},e,t)},function(e,t){var r=t&&t._input?t._input:t;return void 0!==r[e]?r[e]:void 0}),O=t.defaultTo=function(e,t){return function(r){return void 0===b(e,r)?(0,a.set)(e,t)(r):r}},m=(t.method=function(e){return O("method",e)},t.header=function(e,t,r){return function(n){var o=d.getHeader(e,n);return r||void 0===o?d.setHeader(e,t,n):n}}),R=(t.base=function(e){return function(t){return(0,a.set)("url",e+t.url)(t)}},e("initialQuery")),_=e("noOverrideQuery"),E=e("overrideQuery"),S=t.query=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return g(function(r){var i=r;void 0===i[R]&&(i=(0,a.set)(R,r.query||"")(i));var u=t?[E,i[E],e]:[_,e,i[_]],s=n(u,3),c=s[0],l=s[1],d=s[2];i=(0,a.setIn)([c],o({},l,d))(i);return(0,a.set)("query",[i[R],f.stringify(o({},i[E],i[_]))].filter(Boolean).join("&"))(i)})},j=(t.withQuery=function(e){return S(e.query,!1)(e)},t.httpsOnly=g((0,a.set)("protocol","https")),t.environmentUrl=function(e){return function(t){return g(function(r){!r.protocol&&t.location&&(r.protocol=t.location.protocol.slice(0,-1));if(!r.hostname){var n=t.api||e;r.hostname=y(n)}return r})(t)}}),T=(t.withApiAsOption=function(e){if(!e.api)throw new Error("Missing api option. Expected api object (you can create one with the standardApi function");return j(null)(e)},t.standardApi=function(e,t){return{local:{qa:"local."+t+"qa.com",prod:"local."+t+".com"},deployed:{qa:e+"."+t+"qa.com",prod:e+"."+t+".com"}}},t.bodyType=function(e,t){return function(r){(r=m("content-type",e)(r)).rawData?r.data=r.rawData:"function"==typeof t&&d.getHeader("content-type",r)===e&&(r.data=t(r.data));return r}}),P=(t.jsonBody=function(e){return void 0!==e.data||void 0!==e.rawData?T("application/json",JSON.stringify)(e):e},function(e){return function(t){try{return e(t)}catch(e){e.response=t;throw e}}}),I=t.onResponse=function(e){return(0,c.handleResponse)(function(t){return t.then(P(e))})},k=(t.onResponseError=function(e){return(0,c.handleResponse)(function(t){return t.catch(P(e))})},t.responseInterceptor=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,c.handleResponse)(function(r){return r.then(P(e),function(r){return t?s.Promise.reject(e(r)):e(r)})})},function(e){return e&&e.headers&&d.getHeader("content-type",e)||""});t.jsonResponse=(0,u.createStack)(m("Accept","application/json, text/javascript, */*; q=0.01"),I(function(e){return(0,a.setIf)("string"==typeof e.data&&0===k(e).indexOf("application/json"),"data",function(){return e.data.length?JSON.parse(e.data):void 0})(e)})),t.reportOptionsError=I(function(e){return"OPTIONSERROR"===e.errorCode?s.Promise.reject((0,c.responseError)(e,"hub-http error building request options: "+e.options.error.message)):e}),t.validateStatus=function(e){return I(function(t){return t.status>=200&&t.status<300?t:s.Promise.reject((0,c.responseError)(t,"Request for "+e.url+" failed with status "+t.status+". "+(t.statusText||"")))})(e)},t.retry=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reason,n=t.maxRetries,o=void 0===n?1:n,i=t.delay,c=void 0===i?250:i,l=t.onMaxAttemptsReached;return function(t){var n=function(t){if(e(t)){var n=(0,a.set)("retry",{reason:r,maxRetries:o,delay:c,exceededRetries:t.options.retryAttempts>=o})(t);return s.Promise.reject(n)}return t};return 0===o?t:(t.retryAttempts>=o&&"function"==typeof l?(0,u.createStack)(I(n),l):I(n))(t)}},t.safeMode=(0,a.set)("safeMode",!0)}).call(t,r(0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createStack=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=u(r(10)),i=r(1);function u(e){return e&&e.__esModule?e:{default:e}}(0,u(r(19)).default)();var s=function(e,t){return i.Promise.resolve(e((0,o.default)(n({},t,{_input:t}))))};t.createStack=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],o=t.slice(1);return function(e){return 0===o.length?s(n,e):o.reduce(function(e,t){return e.then(t)},s(n,e))}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.setIf=t.setIn=t.push=t.set=void 0;var n="function"==typeof e&&"symbol"==typeof e.iterator?function(e){return typeof e}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=u(r(10));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var a=t.set=function(e,t){return function(r){(r=o({},r))[e]=t;return r}},c=(t.push=function(e,t){return function(r){return a(e,[].concat(s(r[e]||[]),[t]))(r)}},function(e){return"string"==typeof e[0]||e[0]instanceof String||"symbol"===n(e[0])?(0,i.default)({}):(0,i.default)([])}),l=(t.setIn=function e(t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c(t);return 1===t.length?a(t[0],r)(n):a(t[0],e(t.slice(1),r)(n[t[0]]))(n)}},function(e,t){return"function"==typeof e?e(t):e}),f=function(e){return"function"==typeof e?e():e};t.setIf=function(e,t,r){return function(n){return l(e,n)?a(t,f(r))(n):n}}}).call(t,r(0))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(t,r){var n=[],o=!0,i=!1,u=void 0;try{for(var s,a=t[e.iterator]();!(o=(s=a.next()).done);o=!0){n.push(s.value);if(r&&n.length===r)break}}catch(e){i=!0;u=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw u}}return n}return function(r,n){if(Array.isArray(r))return r;if(e.iterator in Object(r))return t(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=/^(?:(?:([^:\/?#]+):)?(?:\/\/([^:\/?#]+)(?::([0-9]+))?)+?)?([^?#]+)?(?:\?([^#]*))?(?:#(.+))?/,o=function(e){var t=(e||"").toLowerCase();return t?"http"===t?80:"https"===t?443:null:null},i=(t.parseUrl=function(e){var t=n.exec(e),i=r(t,7),u=i[1],s=i[2],a=i[3],c=i[4],l=i[5],f=i[6];return{protocol:u,hostname:s,port:void 0!==a?parseInt(a,10):o(u),path:c,query:l,hash:f}},function(e){if(!e.port)return!0;if(!e.protocol)return!0;var t=(e.protocol||"").toLowerCase();return"http"===t&&80===e.port||"https"===t&&443===e.port});t.buildUrl=function(e){return[e.hostname?(e.protocol||"https")+"://":"",e.hostname,i(e)?"":":"+e.port,e.hostname&&e.path&&"/"!==e.path.substr(0,1)?"/"+e.path:e.path,e.query?"?"+e.query:"",e.hash?"#"+e.hash:""].join("")}}).call(t,r(0))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.retryOnError=t.logoutOnMissingPortalId=t.logoutOnUnauthorized=t.logoutOn=t.logoutOnError=t.timeoutInQuery=t.hubapi=t.lab=t.defaults=void 0;var n="function"==typeof e&&"symbol"==typeof e.iterator?function(e){return typeof e}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=p(r(9)),u=r(5),s=r(2),a=r(8),c=r(11),l=d(r(12)),f=r(1);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}t.defaults=function(e){return o({},{timeout:14e3,withCredentials:!0,portalId:window.hubspot&&window.hubspot.portal&&window.hubspot.portal.id,labs:window.hubspot&&window.hubspot["__hub-http-labs"]},e)};var h=function(e,t){var r="HUB-HTTP-LABS:"+e,o=t.localStorage&&t.localStorage.getItem(r);if(o&&"true"===o.toLowerCase()){console.log("Using localStorage override for "+r+": "+o);return"true"===o.toLowerCase()}return"object"===n(t.labs)&&t.labs[e]},v=t.lab=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(n){return h(e,n)?t(n):r(n)}},y=(t.hubapi=v("HUBAPIDOTCOM",(0,s.environmentUrl)((0,s.standardApi)("api","hubapi")),(0,s.environmentUrl)((0,s.standardApi)("api","hubspot"))),t.timeoutInQuery=function(e){return"number"==typeof e.timeout?(0,s.query)({clienttimeout:e.timeout})(e):e},function(e){var t={hostname:(0,s.resolveApi)((0,s.standardApi)("app","hubspot")),path:"/login/"},r={loginRedirectUrl:e.location.href};e.portalId&&(r.loginPortalId=e.portalId);t.query=i.stringify(r);return(0,u.buildUrl)(t)}),w=function(e){return l.default.clear(e)},g=function(e){var t=y(e);if((0,c.redirectTo)(t,e,w))throw new Error("Aborting: redirection in progress");return e},b=function(e){var t=e.options,r=y(t);(0,c.redirectTo)(r,t,w);return f.Promise.reject((0,a.responseError)(e,"Aborting: redirection in progress"))},O=(t.logoutOnError=(0,s.onResponseError)(b),t.logoutOn=function(e){return function(t){return(0,s.onResponse)(function(t){return e(t)?b(t):t})(t)}});t.logoutOnUnauthorized=O(function(e){return 401===e.status}),t.logoutOnMissingPortalId=function(e){if(!e.portalId){console.log("[hub-http] Could not find portal id. Redirecting");return g(e)}return e},t.retryOnError=(0,s.retry)(function(e){return"GET"===e.options.method&&(e.status>=500||0===e.status&&"NETWORKERROR"===e.errorCode)},{reason:"Server error"})}).call(t,r(0))},function(t,r){t.exports=e},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.responseError=t.handleResponse=t.responseHandlers=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(4),i=e("responseHandlers");t.responseHandlers=function(e){return e[i]},t.handleResponse=function(e){return(0,o.push)(i,e)},t.responseError=function(e,t,r,o){return n(new Error,e,{message:t,code:r,previousError:o})}}).call(t,r(0))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(t,r){var n=[],o=!0,i=!1,u=void 0;try{for(var s,a=t[e.iterator]();!(o=(s=a.next()).done);o=!0){n.push(s.value);if(r&&n.length===r)break}}catch(e){i=!0;u=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw u}}return n}return function(r,n){if(Array.isArray(r))return r;if(e.iterator in Object(r))return t(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function n(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}function o(e,t){return t.reduce(function(t,r){null!=r&&t.push(n(""+e,r));return t},[]).join("&")}t.stringify=function(e){return null==e?"":"string"==typeof e||e instanceof String?e:Object.keys(e).reduce(function(t,r){var i=e[r];Array.isArray(i)?i.length>0&&t.push(o(r,i)):null!=i&&t.push(n(r,i));return t},[]).join("&")},t.parse=function(e){return null==e||""===e.trim()?{}:e.split("&").reduce(function(e,t){var n=t.split("="),o=r(n,2),i=o[0],u=o[1],s=i,a=decodeURIComponent(u);s.length>2&&s.lastIndexOf("[]")===s.length-2&&(s=s.substring(0,s.length-2));var c=e[s];void 0!==c?Array.isArray(c)?c.push(a):e[s]=[c,a]:e[s]=a;return e},{})}}).call(t,r(0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return"function"==typeof e},u=Object.getOwnPropertySymbols||function(){return[]};t.default=function(e){if(n.default.deployed("hub-http")||!Object.freeze)return e;Object.freeze(e);Object.getOwnPropertyNames(e).concat(u(e)).forEach(function(t){i(e)&&"caller"!==t&&"callee"!==t&&null!=e[t]&&!Object.isFrozen(e[t])&&Object.freeze(e[t])});return e}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.redirectTo=void 0;var n=function(){function t(t,r){var n=[],o=!0,i=!1,u=void 0;try{for(var s,a=t[e.iterator]();!(o=(s=a.next()).done);o=!0){n.push(s.value);if(r&&n.length===r)break}}catch(e){i=!0;u=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw u}}return n}return function(r,n){if(Array.isArray(r))return r;if(e.iterator in Object(r))return t(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(22),i=function(){};t.redirectTo=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,u="HUB-HTTP_IGNORE_REDIRECTS",s=function(e){return e&&"true"===e.toLowerCase()},a=[[function(){return t.ignoreRedirect},"ignoreRedirect option is set"],[function(){return t.localStorage&&s(t.localStorage.getItem(u))},"local storage key "+u+' is set to "true"'],[function(){return(0,o.isSafeMode)(t)},"safe mode is enabled"]].find(function(e){return(0,n(e,1)[0])()});if(a){console.log("[hub-http] Skipping redirect because "+a[1]);return!1}r(t);t.location.href=e;return!0}}).call(t,r(0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="hapijs_options",o=function(e){return n+":"+e.portalId},i={get:function(e){var t=e.localStorage&&e.localStorage.getItem(o(e));return t?JSON.parse(t):{}},set:function(e,t){e.localStorage&&e.localStorage.setItem(o(e),JSON.stringify(t))},clear:function(e){e.localStorage&&e.localStorage.removeItem(o(e))}};t.default=i},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.allowTimeoutOverride=t.rewriteUrl=void 0;var n=function(){function t(t,r){var n=[],o=!0,i=!1,u=void 0;try{for(var s,a=t[e.iterator]();!(o=(s=a.next()).done);o=!0){n.push(s.value);if(r&&n.length===r)break}}catch(e){i=!0;u=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw u}}return n}return function(r,n){if(Array.isArray(r))return r;if(e.iterator in Object(r))return t(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(2),i=r(5),u=r(4),s=(t.rewriteUrl=function(e){return(0,o.withUrl)(function(t){var r=e.localStorage&&e.localStorage.getItem("URL_REWRITE");if(!r)return t;var o=JSON.parse(r);if(!Array.isArray(o)){console.error("REWRITE_URL local storage key must be a stringified array");return t}if(!o.length)return t;var u=(0,i.buildUrl)(t);("string"==typeof o[0]||o[0]instanceof String)&&(o=[o]);o.forEach(function(e){var t=n(e,2),r=t[0],o=t[1];u=u.replace(new RegExp(r),o)});return(0,i.parseUrl)(u)})(e)},"HUB-HTTP_TIMEOUT");t.allowTimeoutOverride=function(e){var t=e.localStorage&&e.localStorage.getItem(s);if(null!=t){console.log("[hub-http] Using localStorage override "+s+" for request timeout.");return(0,u.set)("timeout",parseInt(t))(e)}return e}}).call(t,r(0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.userInfoSync=t.userInfoSafe=t.userInfoWithDelegatedOptions=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(1),i=s(r(27)),u=r(32);function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var c=void 0,l=void 0,f=function(e){var t=e.cached,r=void 0===t||t,n=a(e,["cached"]);!r&&n.externalResponse&&delete n.externalResponse;r&&c&&(n.recycledPromise=c);var o=(0,i.default)("/login-verify",n);r&&c||(c=o);return o.then(function(e){return e.data})},d=function(e){return e.auth&&e.auth.access_token.expires_at&&new Date-new Date(e.auth.access_token.expires_at)>0},p=function(e,t){return e.legacyLoginVerify&&null==t.auth},h=void 0,v=function(){h||(h=new o.Promise(function(e,t){var r=window.earlyRequester&&window.earlyRequester.getRequestStateByName("api-verify");if(r){r.whenFinished(function(r){return d(r)?t():e(r)});r.onError(function(e){t(new Error("[hub-http] EarlyRequester token refresh attempt failed with status "+e.status+": "+e.statusText))})}else t()}));return h},y=function(e){var t=function(t){t&&console.error(t.message);return f(e)},r=function(e){return{status:200,statusText:"OK",data:e}};return v().then(function(t){return f(n({},e,{externalResponse:r(t)}))}).catch(t).then(function(e){var t=e.auth,r=e.portal,n={user:e.user,gates:r.enabled_gates,portal:r};t&&(n.auth=t);(0,u.triggerEvent)("hubspot:userinfochange",n);return n})},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refreshOnExpiredToken,r=void 0!==t&&t,o=a(e,["refreshOnExpiredToken"]);return y(o).then(function(t){return r&&d(t)||p(e,t)?y(n({cached:!1},o)):t}).then(function(e){l=e;return e})};t.userInfoWithDelegatedOptions=function(e){var t=e.cached,r=e.refreshOnExpiredToken,n=e.ignoreRedirect,o=e.safeMode,i=e.allowSuspended;return w({cached:t,refreshOnExpiredToken:r,ignoreRedirect:n,safeMode:o,allowSuspended:i})},t.userInfoSafe=function(e){return w(n({},e,{safeMode:!0}))},t.userInfoSync=function(){if(!l)throw new Error("User info has not be loaded yet. Did you call userInfoSync before the userInfo promise resolved?");return l};t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(1),i=r(28),u=function(e){return new o.Promise(function(t){var r=new XMLHttpRequest;if(e.error)t((0,i.withResponseHandlers)((0,i.buildErrorResponse)(r,e.error.message,"OPTIONSERROR"),e));else if(e.externalResponse){var o=e.externalResponse instanceof XMLHttpRequest?(0,i.buildResponse)(e.externalResponse):n((0,i.buildResponse)(r),e.externalResponse);t((0,i.withResponseHandlers)(o,e))}else{r.open(e.method||"GET",e.url,!0);"number"==typeof e.timeout&&(r.timeout=e.timeout);r.withCredentials=e.withCredentials;e.responseType&&(r.responseType=e.responseType);"function"==typeof e.withXhr&&e.withXhr(r);Object.keys(e.headers||{}).forEach(function(t){!1!==e.headers[t]&&r.setRequestHeader(t,e.headers[t])});r.addEventListener("load",function(){return t((0,i.withResponseHandlers)((0,i.buildResponse)(r),e))});r.addEventListener("error",function(){return t((0,i.withResponseHandlers)((0,i.buildErrorResponse)(r,"Network request failed","NETWORKERROR"),e))});r.addEventListener("timeout",function(){return t((0,i.withResponseHandlers)((0,i.buildErrorResponse)(r,"Request timeout","TIMEOUT"),e))});r.addEventListener("abort",function(){return t((0,i.withResponseHandlers)((0,i.buildErrorResponse)(r,"Request aborted","ABORT"),e))});r.send(void 0===e.data?null:e.data)}})},s=function(e){return o.Promise.reject((0,i.buildRequestError)(e))};t.default=function(e){var t=function(t,r){return(0,i.withRetry)(n({},r,{url:t}),function(t){return e(t).catch(s).then(i.withTracking).then(u)}).then(i.trackSuccess,function(e){return o.Promise.reject((0,i.trackFailureBasedOnErrorResponse)(e))})},r=function(e){return function(r,o){return t(r,n({},o,{method:e}))}},a=function(e){return function(t,n){return r(e)(t,n).then(function(e){return e.data})}};return n(t,{get:a("GET"),post:a("POST"),put:a("PUT"),patch:a("PATCH"),delete:a("DELETE"),options:a("OPTIONS"),getWithResponse:r("GET"),postWithResponse:r("POST"),putWithResponse:r("PUT"),patchWithResponse:r("PATCH"),deleteWithResponse:r("DELETE"),optionsWithResponse:r("OPTIONS")})}},function(e,t,r){e.exports=r(17)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.userInfo=t.apiClient=void 0;var n=s(r(18)),o=r(14),i=r(2),u=r(3);function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,s(r(15)).default)((0,u.createStack)(i.safeMode,n.default));t.apiClient=a;t.userInfo=o.userInfoSafe},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=a(r(2)),i=a(r(6)),u=a(r(13)),s=a(r(23));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}t.default=(0,n.createStack)(o.services,i.defaults,u.allowTimeoutOverride,o.jsonBody,o.httpsOnly,i.hubapi,s.cookieAuthentication,o.withQuery,u.rewriteUrl,i.timeoutInQuery,o.reportOptionsError,i.logoutOnUnauthorized,i.retryOnError,o.validateStatus,o.jsonResponse)},function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof e&&"symbol"==typeof e.iterator?function(e){return typeof e}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t};t.default=s;var i=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function s(){var e=window||n;if(!1){var t=null!==e.hubspot.polyfills&&"object"===o(e.hubspot.polyfills)&&!0===e.hubspot.polyfills.Symbol;if(!i.default.deployed("hub-http")&&!t){var r="Couldn't find HeadJS polyfills. Please include either the standard-head-with-polyfills.js bundle or polyfills/core.js from HeadJS'.\n\nMore information: https://product.hubteam.com/docs/frontend/docs/polyfills.html";console.error(r)}}}}).call(t,r(0),r(20))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setHeader=t.getHeader=void 0;var n=r(4);t.getHeader=function(e,t){var r=t.headers;if(r)for(var n in r)if(r.hasOwnProperty(n)&&n.toLowerCase()===e.toLowerCase())return r[n]},t.setHeader=function(e,t,r){var o=r.headers;for(var i in o)if(o.hasOwnProperty(i)&&i.toLowerCase()===e.toLowerCase())return(0,n.setIn)(["headers",i],t)(r);return(0,n.setIn)(["headers",e],t)(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&"true"===e.toLowerCase()};t.isSafeMode=function(e){return e.safeMode||e.localStorage&&n(e.localStorage.getItem("HUB-HTTP_SAFE_MODE"))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.cookieAuthentication=void 0;var n=[{csrfCookieName:"csrf.api",matcher:/^[a-z0-9]+\.hubapi(qa)?\.com$/},{csrfCookieName:"csrf.app",matcher:/^[a-z0-9]+\.hubspot(qa)?\.com$/}],o=(0,r(24).cookieAuthentication)(n);t.cookieAuthentication=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.cookieAuthentication=t.ensurePortalId=t.withCsrf=t.logoutOnMissingCsrf=t.ensureHttps=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=p(r(7)),i=r(5),u=d(r(9)),s=r(2),a=r(6),c=r(3),l=r(25),f=r(26);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e){return e&&e.__esModule?e:{default:e}}var h=/^([a-zA-Z0-9\-\.]+)\.([a-zA-Z0-9\-]+)\.com$/,v=(t.ensureHttps=function(e){if(!o.default.deployed("hub-http")&&"https:"!==e.location.protocol){var t="Cookie authentication require apps to be on https";console.error("[hub-http]",t);throw new Error(t)}return e},t.logoutOnMissingCsrf=function(e){return(0,a.logoutOn)(function(){return!(0,l.getCookie)(e.csrfCookieName,e.cookies)})(e)}),y=t.withCsrf=function(e){return(0,s.header)("X-HubSpot-CSRF-hubspotapi",(0,l.getCookie)(e.csrfCookieName,e.cookies))(e)},w=t.ensurePortalId=function(e){var t=(0,i.parseUrl)(e.url);return u.parse(t.query).portalId?e:(0,c.createStack)(a.logoutOnMissingPortalId,(0,s.query)({portalId:e.portalId}))(e)},g=(0,c.createStack)(v,y,w);t.cookieAuthentication=function(e){return function(t){var r=e,o=(0,i.parseUrl)(t.url).hostname,u=r.find(function(e){return e.matcher.test(o)}),s=t.location.hostname.match(h),a=o.match(h),c=null!=s&&null!=a&&s[s.length-1]===a[a.length-1];return u&&(c||"1"===(0,l.getCookie)("cookieverified",t.cookies))?g(n({},t,{csrfCookieName:u.csrfCookieName})):(0,f.accessToken)(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getCookie=function(e,t){var r=("; "+t).split(";");if(r.length)for(var n=0;n<r.length;n++){var o=r[n].split("=");if(2===o.length&&o[0].trim()===e)return o[1]}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.accessToken=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(2),i=l(r(12)),u=r(1),s=r(3),a=r(14),c=r(6);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){return{portalId:e,token:t.token,expiresAt:t.expires_at}},d=function(e){var t=i.default.get(e);return!t.token||t.expiresAt&&new Date-new Date(t.expiresAt)>0?(0,a.userInfoWithDelegatedOptions)(n({},e,{refreshOnExpiredToken:!0})).then(function(t){var r=t.auth,n=f(e.portalId,r.access_token);i.default.set(e,n);return n}):u.Promise.resolve(t)},p=function(e){return d(e).then(function(t){return(0,o.query)({access_token:t.token})(e)})};t.accessToken=(0,s.createStack)(c.logoutOnMissingPortalId,p)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=f(r(15)),i=l(r(2)),u=l(r(6)),s=l(r(13)),a=l(r(30)),c=r(9);function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function f(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((0,n.createStack)(i.services,u.defaults,a.recyclePromise,s.allowTimeoutOverride,a.portalIdBody,i.bodyType("application/x-www-form-urlencoded",c.stringify),a.hubUserInfoEndpointTest,i.httpsOnly,s.rewriteUrl,i.reportOptionsError,u.logoutOnUnauthorized,a.retryOnError,i.jsonResponse,a.redirectSuspendedUsers))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.trackFailureBasedOnErrorResponse=t.trackSuccess=t.withRetry=t.withTracking=t.requestIdKey=t.buildRequestError=t.buildErrorResponse=t.buildResponse=t.withResponseHandlers=t.getResponseHeaders=t.handleResponse=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(8),i=r(1),u=r(4),s=a(r(29));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}var c=t.handleResponse=function(e,t){return t.reduce(function(e,t){return t(e)},e)},l=t.getResponseHeaders=function(e){return(e.getAllResponseHeaders()||"").trim().split("\n").reduce(function(e,t){var r=t.trim().split(":"),n=r.shift().trim(),o=r.join(":").trim();e[n]=o;return e},{})},f=(t.withResponseHandlers=function(e,t){e=(0,u.set)("options",t)(e);var r=(0,o.responseHandlers)(t);return r&&r.length?c(i.Promise.resolve(e),r):i.Promise.resolve(e)},function(e){try{return 0===e.getResponseHeader("content-type").indexOf("application/json")?JSON.parse(e.responseText):void 0}catch(e){return}}),d=t.buildResponse=function(e){return{status:e.status,statusText:e.statusText,data:"response"in e?e.response:e.responseText,headers:l(e),xhr:e,responseText:e.responseText,responseJSON:f(e)}},p=(t.buildErrorResponse=function(e,t,r){var o=d(e);return n(o,{statusText:o.statusText||t,responseJSON:f(e),errorMessage:t,errorCode:r})},t.buildRequestError=function(e){var t=void 0,r="REQUEST ERROR";e instanceof Error?t=e:("string"==typeof e||e instanceof String)&&(t=new Error(e));return n(t,{code:r,status:0,statusText:t.message})},t.requestIdKey=e("requestId")),h=(t.withTracking=function(e){if(!0===e.doNotTrack)return e;var t=s.startTrackingRequest(e.url,"hub-http"),r=n({},e);r[p]=t;return r},t.withRetry=function e(t,r){var u=t.retryAttempts||0;return r(n({},t,{retryAttempts:u})).catch(function(s){if(s.retry&&s.retry.exceededRetries)return i.Promise.reject((0,o.responseError)(s,"Request for "+t.url+" failed since max retries exceeded ("+s.retry.maxRetries+"). "+(s.statusText||"")));if(s.retry){var a=s.retry.reason?" Reason: "+s.retry.reason:"";h(s,{willBeRetried:!0,retryReason:a,retryAttempt:u+1});console.log("Retrying. Retry attempt "+(u+1)+" of "+s.retry.maxRetries+"."+a);return new i.Promise(function(o){setTimeout(function(){return o(e(n({},t,{retryAttempts:u+1}),r))},s.retry.delay)})}return i.Promise.reject(s)})},t.trackSuccess=function(e){e.options&&void 0!==e.options[p]&&s.finishTrackingRequest(e.options[p],e.options.url,"succeeded",{status:e.status,statusText:e.statusText});return e},t.trackFailureBasedOnErrorResponse=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.willBeRetried,n=void 0!==r&&r,o=t.retryReason,i=t.retryAttempt;e.options&&void 0!==e.options[p]&&("ABORT"===e.errorCode?s.finishTrackingRequest(e.options[p],e.options.url,"aborted",{status:e.status}):"TIMEOUT"===e.errorCode?s.finishTrackingRequest(e.options[p],e.options.url,"timedOut",{status:e.status}):s.finishTrackingRequest(e.options[p],e.options.url,"failed",{status:e.status,statusText:e.statusText,willBeRetried:n,retryReason:o,retryAttempt:i}));return e})}).call(t,r(0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window&&window.performance&&window.performance.timing&&window.performance.timing.navigationStart,o=window&&window.performance&&window.performance.now,i=t.pageStartTimestamp=n?window.performance.timing.navigationStart:(new Date).valueOf(),u=t.perfNow=o?window.performance.now.bind(window.performance):function(){return(new Date).valueOf()-i},s=1;function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("succeeded"===e||"timedOut"===e||"failed"===e||"aborted"===e)return!0;console&&console.error&&console.error("Invalid state passed "+(t?"to "+t:"")+" ("+e+")");return!1}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("pending"===e||a(e,t))return!0;console&&console.error&&console.error("Invalid state passed "+(t?"to "+t:"")+" ("+e+")");return!1}var l=t.getHttpRequestStatsByState=function(e){return c(e,"getHttpRequestStatsByState")&&window.hubspot&&window.hubspot._httpRequestStats&&window.hubspot._httpRequestStats[e]?Object.keys(window.hubspot._httpRequestStats[e]).map(function(t){return window.hubspot._httpRequestStats[e][t]}):[]},f=t.getAllHttpRequestStats=function(){return l("pending").concat(l("succeeded"),l("timedOut"),l("failed"),l("aborted"))};if(window.hubspot){window.hubspot.getAllHttpRequestStats||(window.hubspot.getAllHttpRequestStats=f);window.hubspot.getHttpRequestStatsByState||(window.hubspot.getHttpRequestStatsByState=l)}t.startTrackingRequest=function(e,t){var r=s++;if(window.hubspot){window.hubspot._httpRequestStats||(window.hubspot._httpRequestStats={pending:{},succeeded:{},timedOut:{},failed:{},aborted:{}});window.hubspot._httpRequestStats.pending||(window.hubspot._httpRequestStats.pending={});window.hubspot._httpRequestStats.pending[r]={id:r,started:u(),state:"pending",url:e,via:t}}return r},t.finishTrackingRequest=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"succeeded",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a(r,"finishTrackingRequest for "+t)&&window.hubspot&&window.hubspot._httpRequestStats&&window.hubspot._httpRequestStats.pending&&function(){var t=window.hubspot._httpRequestStats.pending[e];if(t){delete window.hubspot._httpRequestStats.pending[e];t.finished=u();t.state=r;window.hubspot._httpRequestStats[r]||(window.hubspot._httpRequestStats[r]={});window.hubspot._httpRequestStats[r][e]=t;Object.keys(n).forEach(function(e){null==t[e]&&null!=n[e]&&(t[e]=n[e])})}}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.redirectSuspendedUsers=t.hubUserInfoEndpointTest=t.portalIdBody=t.retryOnError=t.recyclePromise=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(3),i=r(4),u=r(2),s=r(6),a=r(5),c=r(11),l=r(1),f=r(8),d=p(r(31));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){return 0===e.xhr.readyState?{status:e.status,statusText:e.statusText,data:e.data}:e.xhr},v=function(e){return function(t){return(0,i.set)("externalResponse",h(t))(e)}},y=(t.recyclePromise=function(e){return e.recycledPromise?e.recycledPromise.then(v(e),v(e)):e},t.retryOnError=(0,u.retry)(function(e){return 200!==e.status&&401!==e.status},{reason:"Error fetching user data",maxRetries:3,onMaxAttemptsReached:s.logoutOnError}),t.portalIdBody=function(e){return(0,i.set)("data",{portalId:e.portalId})(e)},function(e){var t={hostname:(0,u.resolveApi)((0,u.standardApi)("app","hubspot")),path:"/dashboard/"+(e.portalId||"")};return(0,a.buildUrl)(t)}),w=function(e){var t=e.options,r=y(t);return(0,c.redirectTo)(r,t)?l.Promise.reject((0,f.responseError)(e,"Aborting: redirection in progress")):e},g=function(e){return!e.options.allowSuspended&&Array.isArray(e.data.user.scopes)&&-1!==e.data.user.scopes.indexOf("suspended")},b=(0,o.createStack)(function(e){return(0,u.withUrl)(function(e){return"/login-verify"===e.path?n({},e,{path:"/login-verify/hub-user-info"}):e})(e)},(0,u.method)("GET"),(0,u.environmentUrl)((0,u.standardApi)("api","hubspot")),function(e){return(0,u.query)({portalId:e.portalId})(e)}),O=(0,o.createStack)((0,u.method)("POST"),(0,u.environmentUrl)((0,u.standardApi)("app","hubspot")));t.hubUserInfoEndpointTest=function(e){return e.legacyLoginVerify?O(e):(0,s.lab)("ENSURE_LEGACY_LOGIN_VERIFY",O,b)(e)},t.redirectSuspendedUsers=(0,d.default)(function(e){return function(t){return e()?(0,u.onResponse)(function(e){return g(e)?w(e):e})(t):t}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e){var t=!0,r=function(){return t};return n(function(){return e(r).apply(void 0,arguments)},{setEnabled:function(e){t=e}})}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.triggerEvent=function(e,t){var r=void 0;"function"==typeof window.Event?r=n(new Event(e),t):(r=n(document.createEvent("Event"),t)).initEvent(e,!0,!0);window.dispatchEvent(r)}}])});

//# sourceMappingURL=index.js.map